<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="561px" preserveAspectRatio="none" style="width:861px;height:561px;background:#FFFFFF;" version="1.1" viewBox="0 0 861 561" width="861px" zoomAndPan="magnify"><defs><filter height="300%" id="fsakcymnvtnq9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="240" x="225" y="29.4023">Web Server Revoke Token</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="161" x="471" y="29.4023">Seqeunce Diagram</text><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="71.6211" style="stroke:#A80036;stroke-width:1.0;" width="10" x="326.5" y="154.998"/><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="326.5" y="338.8613"/><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="326.5" y="441.748"/><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="326.5" y="500.3691"/><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="676.5" y="226.6191"/><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="676.5" y="309.5508"/><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="676.5" y="412.4375"/><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="786.5" y="471.0586"/><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="266.75" style="stroke:#000000;stroke-width:2.0;" width="837" x="10" y="270.9297"/><rect fill="#FFFFFF" height="161.5078" style="stroke:none;stroke-width:1.0;" width="837" x="10" y="376.1719"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="123.6875" y2="554.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="331.5" x2="331.5" y1="123.6875" y2="554.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="681" x2="681" y1="123.6875" y2="554.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="791" x2="791" y1="123.6875" y2="554.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="20" y="120.7344">User</text><ellipse cx="38.5" cy="50.1992" fill="#FEFECE" filter="url(#fsakcymnvtnq9)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M38.5,58.1992 L38.5,85.1992 M25.5,66.1992 L51.5,66.1992 M38.5,85.1992 L25.5,100.1992 M38.5,85.1992 L51.5,100.1992 " fill="none" filter="url(#fsakcymnvtnq9)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fsakcymnvtnq9)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="162" x="248.5" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="255.5" y="108.7344">Authentication Server</text><rect fill="#FEFECE" filter="url(#fsakcymnvtnq9)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="105" x="627" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="634" y="108.7344">Crypto Wallet</text><rect fill="#FEFECE" filter="url(#fsakcymnvtnq9)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="87" x="746" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="753" y="108.7344">Blockchain</text><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="71.6211" style="stroke:#A80036;stroke-width:1.0;" width="10" x="326.5" y="154.998"/><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="326.5" y="338.8613"/><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="326.5" y="441.748"/><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="326.5" y="500.3691"/><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="676.5" y="226.6191"/><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="676.5" y="309.5508"/><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="676.5" y="412.4375"/><rect fill="#FFFFFF" filter="url(#fsakcymnvtnq9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="786.5" y="471.0586"/><polygon fill="#A80036" points="314.5,150.998,324.5,154.998,314.5,158.998,318.5,154.998" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="320.5" y1="154.998" y2="154.998"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="45.5" y="150.2559">(1)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="68.5" y="150.2559">Authentication with token to be revoke</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="336.5" x2="378.5" y1="184.3086" y2="184.3086"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="378.5" x2="378.5" y1="184.3086" y2="197.3086"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="378.5" y1="197.3086" y2="197.3086"/><polygon fill="#A80036" points="347.5,193.3086,337.5,197.3086,347.5,201.3086,343.5,197.3086" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="343.5" y="179.5664">(2)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="366.5" y="179.5664">Verify user can revoke token</text><polygon fill="#A80036" points="664.5,222.6191,674.5,226.6191,664.5,230.6191,668.5,226.6191" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="331.5" x2="670.5" y1="226.6191" y2="226.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="338.5" y="221.877">(3)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283" x="361.5" y="221.877">Generate transaction signature, revoke token</text><polygon fill="#A80036" points="49.5,251.9297,39.5,255.9297,49.5,259.9297,45.5,255.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43.5" x2="680.5" y1="255.9297" y2="255.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="55.5" y="251.1875">(4)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="393" x="78.5" y="251.1875">Response transaction signature and wait for user confirmation</text><path d="M10,270.9297 L72,270.9297 L72,277.9297 L62,287.9297 L10,287.9297 L10,270.9297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="266.75" style="stroke:#000000;stroke-width:2.0;" width="837" x="10" y="270.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="284.498">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="235" x="87" y="283.5645">[User denied transaction signature (false)]</text><polygon fill="#A80036" points="664.5,305.5508,674.5,309.5508,664.5,313.5508,668.5,309.5508" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="670.5" y1="309.5508" y2="309.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="45.5" y="304.8086">User denied transaction signature</text><polygon fill="#A80036" points="347.5,334.8613,337.5,338.8613,347.5,342.8613,343.5,338.8613" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="341.5" x2="680.5" y1="338.8613" y2="338.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="353.5" y="334.1191">Denied revoke, Transaction signature</text><polygon fill="#A80036" points="49.5,364.1719,39.5,368.1719,49.5,372.1719,45.5,368.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43.5" x2="330.5" y1="368.1719" y2="368.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="55.5" y="363.4297">Revoke token request denied</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="847" y1="377.1719" y2="377.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="266" x="15" y="387.8066">[User confirmation transaction signature (true)]</text><polygon fill="#A80036" points="664.5,408.4375,674.5,412.4375,664.5,416.4375,668.5,412.4375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="670.5" y1="412.4375" y2="412.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="45.5" y="407.6953">(5)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="68.5" y="407.6953">User confirmed transaction signature</text><polygon fill="#A80036" points="347.5,437.748,337.5,441.748,347.5,445.748,343.5,441.748" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="341.5" x2="680.5" y1="441.748" y2="441.748"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="353.5" y="437.0059">(6)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="376.5" y="437.0059">Confirmed transaction signature , revoke token</text><polygon fill="#A80036" points="774.5,467.0586,784.5,471.0586,774.5,475.0586,778.5,471.0586" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="331.5" x2="780.5" y1="471.0586" y2="471.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="338.5" y="466.3164">(7)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="361.5" y="466.3164">Revoke access token is_Active = false</text><polygon fill="#A80036" points="347.5,496.3691,337.5,500.3691,347.5,504.3691,343.5,500.3691" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="341.5" x2="790.5" y1="500.3691" y2="500.3691"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="353.5" y="495.627">(8)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="376.5" y="495.627">Successful transaction response</text><polygon fill="#A80036" points="49.5,525.6797,39.5,529.6797,49.5,533.6797,45.5,529.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43.5" x2="330.5" y1="529.6797" y2="529.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="55.5" y="524.9375">(9)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="78.5" y="524.9375">Revoke token successful response</text><!--MD5=[2d8a5ae3896f0ba825c9c52f117c9ec2]
@startuml Web Server Revoke Token
title **Web Server Revoke Token** Seqeunce Diagram
hide footbox
actor User
autonumber "<b>(0)"
"User" - -> "Authentication Server" ++: Authentication with token to be revoke
"Authentication Server" - -> "Authentication Server" : Verify user can revoke token
"Authentication Server" - -> "Crypto Wallet" - -++: Generate transaction signature, revoke token
"Crypto Wallet" - -> "User" - -: Response transaction signature and wait for user confirmation
alt User denied transaction signature (false)
    autonumber stop
    "User" - -> "Crypto Wallet" ++: User denied transaction signature
    "Crypto Wallet" - -> "Authentication Server" - -++: Denied revoke, Transaction signature
    "Authentication Server" - -> "User" - -: Revoke token request denied
else User confirmation transaction signature (true)
    autonumber resume
    "User" - -> "Crypto Wallet" ++: User confirmed transaction signature
    "Crypto Wallet" - -> "Authentication Server" - -++: Confirmed transaction signature , revoke token
    "Authentication Server" - -> "Blockchain" - -++: Revoke access token is_Active = false
    "Blockchain" - -> "Authentication Server" - -++: Successful transaction response
     "Authentication Server" - -> "User" - -: Revoke token successful response
end
@enduml

PlantUML version 1.2022.0(Tue Jan 11 23:16:42 ICT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: TH
--></g></svg>